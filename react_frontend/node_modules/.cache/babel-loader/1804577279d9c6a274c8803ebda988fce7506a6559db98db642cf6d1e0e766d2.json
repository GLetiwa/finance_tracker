{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Transactions=_ref=>{let{transactions}=_ref;const[newTransaction,setNewTransaction]=useState({Category:'',Amount:0,Description:''});const handleInputChange=e=>{const{name,value}=e.target;setNewTransaction({...newTransaction,[name]:value});};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:5000/transactions',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(newTransaction)});const responseText=await response.text();console.log('Response Text:',responseText);const responseData=await response.json();console.log('Response Data:',responseData);if(response.ok){console.log('Transaction successfully added!');}else{console.error('Failed to add transaction');}}catch(error){console.error('Error adding transaction:',error);}};useEffect(()=>{fetch('http://localhost:5000/transactions').then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>setNewTransaction(data)).catch(error=>console.error('Error fetching transactions:',error));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Transactions\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"transaction-form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Category:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Category\",value:newTransaction.Category,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Amount:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"Amount\",value:newTransaction.Amount,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Description\",value:newTransaction.Description,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Transaction\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"transaction-list\",children:transactions.map(transaction=>/*#__PURE__*/_jsxs(\"li\",{className:\"transaction-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:transaction.Category}),\" - \",transaction.Amount,\" USD\"]},transaction.TransactionID))})]});};export default Transactions;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Transactions","_ref","transactions","newTransaction","setNewTransaction","Category","Amount","Description","handleInputChange","e","name","value","target","handleSubmit","preventDefault","response","fetch","method","headers","credentials","body","JSON","stringify","responseText","text","console","log","responseData","json","ok","error","then","Error","data","catch","className","children","onSubmit","type","onChange","map","transaction","TransactionID"],"sources":["/home/grace/projects/maya_prac/alx_project1/pft_repo/finance-tracker/src/components/Transactions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './styles.css';\n\nconst Transactions = ({ transactions }) => {\n  const [newTransaction, setNewTransaction] = useState({\n    Category: '',\n    Amount: 0,\n    Description: '',\n  });\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setNewTransaction({ ...newTransaction, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n        try {\n\tconst response = await fetch('http://localhost:5000/transactions', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tcredentials: 'include',\n\t\tbody: JSON.stringify(newTransaction),\n\t});\n\tconst responseText = await response.text();\n        console.log('Response Text:', responseText);\n\n\tconst responseData = await response.json();\n        console.log('Response Data:', responseData);\n\tif (response.ok) {\n\t\tconsole.log('Transaction successfully added!');\n\t} else {\n\t\tconsole.error('Failed to add transaction');\n\t}\n    } catch (error) {\n\t    console.error('Error adding transaction:', error);\n    }\n  };\n\n  useEffect(() => {\n  fetch('http://localhost:5000/transactions')\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => setNewTransaction(data))\n    .catch(error => console.error('Error fetching transactions:', error));\n  }, []);\n  return (\n    <div className=\"section\">\n      <h2>Transactions</h2>\n      <form onSubmit={handleSubmit} className=\"transaction-form\">\n        <label>\n          Category:\n          <input\n            type=\"text\"\n            name=\"Category\"\n            value={newTransaction.Category}\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          Amount:\n          <input\n            type=\"number\"\n            name=\"Amount\"\n            value={newTransaction.Amount}\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          Description:\n          <input\n            type=\"text\"\n            name=\"Description\"\n            value={newTransaction.Description}\n            onChange={handleInputChange}\n          />\n        </label>\n        <button type=\"submit\">Add Transaction</button>\n      </form>\n      <ul className=\"transaction-list\">\n        {transactions.map((transaction) => (\n          <li key={transaction.TransactionID} className=\"transaction-item\">\n            <strong>{transaction.Category}</strong> - {transaction.Amount} USD\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Transactions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
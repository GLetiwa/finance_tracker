{"ast":null,"code":"// Login.js\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({username:'',password:''});const[error,setError]=useState('');const[successMessage,setSuccessMessage]=useState('');const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(formData)});if(response.ok){console.log('Login successful!');setSuccessMessage('Login successful!');navigate('/transactions');}else{const data=await response.json();setError(data.error||'Login failed');}}catch(error){console.error('Error during login:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Username:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:formData.username,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","username","password","error","setError","successMessage","setSuccessMessage","handleInputChange","e","name","value","target","navigate","handleSubmit","preventDefault","response","fetch","method","headers","credentials","body","JSON","stringify","ok","console","log","data","json","children","style","color","onSubmit","type","onChange"],"sources":["/home/grace/projects/maya_prac/alx_project1/finance_tracker/react_frontend/src/components/Login.js"],"sourcesContent":["// Login.js\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  });\n\n  const [error, setError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n  \n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        console.log('Login successful!');\n\tsetSuccessMessage('Login successful!');\n        navigate('/transactions');\n      } else {\n        const data = await response.json();\n\tsetError(data.error || 'Login failed');\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Login</h2>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {successMessage && <p style={{ color: 'green' }}>{successMessage}</p>}\n      <form onSubmit={handleSubmit}>\n        <label>\n          Username:\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          Password:\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleInputChange}\n          />\n        </label>\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}